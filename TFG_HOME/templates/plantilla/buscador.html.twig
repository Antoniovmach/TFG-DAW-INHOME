<section class="bg-gray-100 section-md">
    <div class="container">
        <form>
            <div class="form-wrap form-wrap-select wow fadeInLeftSmall" data-wow-delay=".3s">
                <!-- Primera fila: Provincia, Localidad y Categoría -->
                <div class="row row-20 justify-content-md-center">
                    <div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12">
                        <label>Provincia:</label>
                        <select id="ProvinciasSelect" class="form-input select" name="find-job-location" data-minimum-results-for-search="Infinity">
                        </select>
                    </div>
                    <div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12">
                        <label>Localidad:</label>
                        <select id="LocalidadesSelect" class="form-input select" name="find-job-location" data-minimum-results-for-search="Infinity">
                            <option value="0"></option>
                        </select>
                    </div>
                    <div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12">
                        <label>Categoría:</label>
                        <select id="select-categorias" class="form-input select" name="find-job-location" data-minimum-results-for-search="Infinity">
                        </select>
                    </div>
                </div>
         
                <div class="row row-20 justify-content-md-center mt-4">
                    <div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12">
                        <label>Fecha Inicio:</label>
                        <input type="text" id="startDate" class="form-input" name="start-date">
                    </div>
                    <div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12">
                        <label>Fecha Fin:</label>
                        <input type="text" id="endDate" class="form-input" name="end-date">
                    </div>
                    <div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 col-12 d-flex align-items-center justify-content-center">
                        <button type="button" id="buscarfiltro" class="btn btn-primary">Filtrar</button>
                        <button type="button" id="borrarfiltro" class="btn btn-danger" style="margin-left: 10px;">BORRAR FILTRO</button>
                    </div>
                </div>
                
                <div id="categorias-contenedor" class="row row-20 justify-content-md-center mt-4"></div>
            </div>
        </form>
    </div>
</section>


<script src="{{asset('plugins/datepicker/datepicker.js')}}"></script>

<script>
 document.addEventListener('DOMContentLoaded', function () {
    const btnBuscar = document.getElementById('buscarfiltro');
    btnBuscar.addEventListener('click', function () {
        const provinciaId = document.getElementById('ProvinciasSelect').value;
        const localidadId = document.getElementById('LocalidadesSelect').value;
        const fechaInicio = document.getElementById('startDate').value;
        const fechaFin = document.getElementById('endDate').value;

        // Construir la URL con los parámetros
        let url = `http://localhost:8000/viviendas?`;

        if (provinciaId) {
            url += `provinciaId=${provinciaId}&`;
        }
        if (localidadId) {
            url += `localidadId=${localidadId}&`;
        }
        if (fechaInicio) {
            url += `fechaInicio=${fechaInicio}&`;
        }
        if (fechaFin) {
            url += `fechaFin=${fechaFin}`;
        }

        // Redirigir a la URL construida
        window.location.href = url;
    });
 const btnBorrar = document.getElementById('borrarfiltro');
    btnBorrar.addEventListener('click', function () {
    
    let url = `http://localhost:8000/viviendas`;
     window.location.href = url;
});
});
</script>